# 用例设计与实现规范优化 - 实现任务

## 1. 规范文档：设计怎么写

- [x] 1.1 在 `openspec/测试用例设计与实现规范.md` 的「测试设计融入 design.md」下增加「设计怎么写」子小节，规定每条用例设计必须包含：测什么、条件、期望、断言要点
- [x] 1.2 提供设计四项的表格模板及至少一处示例（如 astScope 截断场景），便于填写与实现对照

## 2. 规范文档：实现怎么写

- [x] 2.1 在规范中扩展「测试实现规范」为「实现怎么写」：规定测试文件头（所测模块、对应 spec/design）、describe 分层规则（顶层=被测对象，下一层=场景/条件类型）
- [x] 2.2 规定单条 it 的 arrange/act/assert 结构及断言与 design「断言要点」的对应关系；推荐断言风格（先形态后关键字段）

## 3. 规范文档：设计↔实现对应关系

- [x] 3.1 在规范中增加「设计 ↔ 实现对应关系」小节，说明一条用例设计对应一个或一组 it、实现时按条件构造与按断言要点写 expect、实现后更新「已有覆盖」或作验收
- [x] 3.2 在检查清单中增加与设计↔实现一致性相关的项（可选）

## 4. 验收与自检

- [x] 4.1 按 design「测试与验证」与本 tasks 自检：规范文档包含「设计怎么写」「实现怎么写」「设计↔实现对应」且内容符合 proposal/specs；确认本变更无需新增自动化测试，验收以文档评审与检查清单为准
